<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>RichSomerfield.com</title>
  <meta name="author" content="Rich Somerfield">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://richsomerfield.com/blog/page/8">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="RichSomerfield.com" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
<!-- Fix FancyBox style for OctoPress -->
<style type="text/css">
  .fancybox-wrap { position: fixed !important; }
  .fancybox-opened {
    -webkit-border-radius: 4px !important;
       -moz-border-radius: 4px !important;
            border-radius: 4px !important;
  }
  .fancybox-close, .fancybox-prev span, .fancybox-next span {
    background-color: transparent !important;
    border: 0 !important;
  }
</style>


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">RichSomerfield.com</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/apps">Apps</a>
                </li>                
                <li >
                    <a href="/photos">Photos</a>
                </li>                
                <li >
                    <a href="/about">About</a>
                </li>                                
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:richsomerfield.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-06-02T00:00:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2009/06/02/creativity/">Creativity</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>The essential ingredient for creativity, is the freedom to think. Without this, it is almost impossible to generate new ideas.</p>

<p>Unfortunately, quite often you need to be creative when you are under the most pressure to deliver.</p>

<p>If you get caught in this situation, the best thing to do it take some time out, and think.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-05-07T00:00:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2009/05/07/desktop-icons/">Desktop Icons</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>One of the things I love about being able to write code, is the ability to create small tools to help me use my computer.  I&rsquo;ve always enjoyed this side of programming, which will probably explain why I&rsquo;m always creating more.</p>

<p>On this blog post, I&rsquo;ll be describing a tool I&rsquo;ve written that I keep coming back to.  With some changes I&rsquo;ve made over the past few days is even more useful. </p>

<p>In Windows, I love the accessibility of putting things on to the Desktop.  At the same time, I&rsquo;m always trying to tidy it up and keep it clean as otherwise I find it distracting.  As such, I created a tool to show or hide the icons displayed on the desktop; this is now available in the Vista by right-clicking on the desktop.  The original version was only triggered by clicking on the SystemTray icon, or by pressing Ctrl+1. </p>

<p>Since the original version, it now supports a useful addition, in that when the icons are hidden, if you hold down the CapsLock key for more than a few seconds, the icons will appear and you can use them.  When you release the CapsLock key it will hide them again.  The beauty of using CapsLock, is that it doesn&rsquo;t interfere with the mouse and you can interact with the icons without any problems.</p>

<p>The most recent feature I&rsquo;ve added is to save and restore the Desktop icon positions.  This is activated by the &ldquo;Save Icon Position&#8221; and &#8220;Restore Icon Position&#8221; from the SystemTray icon.  This information is saved to disk so that it can be used again and again.</p>

<p>I&rsquo;ve made the tool available via ClickOnce, so it would install to your StartMenu by clicking on the link below.  I hope you find this tool useful &ndash; if so, you can always donate via PayPal.</p>

<p><a href="http://www.richsomerfield.com/downloads/desktoptools/publish.htm">http://www.richsomerfield.com/downloads/desktoptools/publish.htm</a></p>

<p>Note: If running on Vista, with UAC enabled, you may need to run as Administrator &ndash; this is due to the way the app needs to interact with the desktop.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-05-04T00:00:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2009/05/04/control-flow/">Control Flow</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>The organization and structure of source code is just as important as the code itself.  For a long time I&rsquo;ve tried (and seen) many different ways of handling control flow.</p>

<p>This article will discuss a number of different approaches, I already know my favourite, but I think there is possibly a role for a new scope operator that helps.</p>

<p>Consider the following problem, you have 5 actions as part of your pipeline processing.  Each action should only be initiated if the previous action was successfully completed.  This scenario will occur throughout your code.  I&rsquo;ll discuss a number of alternatives to solving this:</p>

<pre class="brush: cpp">int iErrorStatus = UNKNOWN_ERROR;
iErrorStatus = Action1();

if ( SUCCESS == iErrorStatus )
{
  iErrorStatus = Action2();
}

if ( SUCCESS == iErrorStatus )
{
  iErrorStatus = Action3();
}

...

return iErrorStatus;
</pre>


<p>As you can see, it doesn&rsquo;t take long before this starts to get rather unreadable.  Especially when you factor in any dynamic resources you have allocated; and therefore need to release.</p>

<p>An alternative to this, is to put the action call inside a return code test.  This works, but has massive indentation issues:</p>

<pre class="brush: cpp">if ( SUCCESS == Action1() )
{
  if ( SUCCESS == Action2() )
  {
    if ( SUCCESS == Action3() )   
    { 
      ...
    }
  }
}

...

return iErrorStatus;
</pre>


<p> <br/>
Another option is to have multiple function exit points.  This is my least favourite, but I put it here as some people seem to like it.  The reason I like it the least, is that having multiple exit points, will undoutably mean duplicated resource management (i.e. releasing dynamic memory).  And I&rsquo;ve seen more bugs with missed deallocations using this method, than anything else!</p>

<pre class="brush: cpp">int iErrorStatus = UNKNOWN_ERROR;

iErrorStatus = Action1();

if ( SUCCESS != iErrorStatus )
{
  return iErrorStatus;  
}

iErrorStatus = Action2();

if ( SUCCESS != iErrorStatus )
{
  return iErrorStatus;  
}

iErrorStatus = Action3();

...

return iErrorStatus;
</pre>


<p>Next is the misunderstood &lsquo;goto&rsquo;.  I really like it, but can understand why some people don&rsquo;t.  It is almost like it is too powerful, but if used correctly can very elegantly solve the problem:</p>

<pre class="brush: cpp">int iErrorStatus = UNKNOWN_ERROR;
iErrorStatus = Action1();

if ( SUCCESS != iErrorStatus )
{
  goto EndOfFunc;
}

iErrorStatus = Action2();

if ( SUCCESS != iErrorStatus )
{
  goto EndOfFunc;
}

iErrorStatus = Action3();

...

EndOfFunc:

return iErrorStatus;
</pre>


<p>Very similar to the multiple returns, but it now provides a single place to implement your clean up logic.</p>

<p>Other approaches start to miss-use the language.  I almost like the following, but it is too prone to problems:</p>

<pre class="brush: cpp">do
{
  int iErrorStatus = UNKNOWN_ERROR;
  iErrorStatus = Action1();

  if ( SUCCESS != iErrorStatus )
  {
    break;
  }

  iErrorStatus = Action2();

  if ( SUCCESS != iErrorStatus )
  {
    break;
  }

  iErrorStatus = Action3();

  ...
}while( false );
</pre>


<p>Finally, an additional scope operator that behaved like the aforementioned do-while trick, but without any concerns about the accidental repeats that come with a while-loop.  For example:</p>

<pre class="brush: cpp">scope
{
  if ( SUCCESS != Action1() )
  {
    break;
  }

  if ( SUCCESS != Action2() )
  {
    break;
  }

  if ( SUCCESS != Action3() )
  {
    break;
  }

  ...
}

return iErrorStatus;
</pre>


<p>Let me know what you think.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/blog/page/9/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/blog/page/7/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2014/05/30/wwdc-speculation-2014/">WWDC Speculation - 2014</a>
    
    <a class="list-group-item " href="/blog/2014/05/20/mitmproxy-updating/">Mitmproxy - Updating</a>
    
  </div>
</section>

<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating&#8230;</p>
  </div>
  
    <div class="gh-profile-link pull-right text-muted">
      <a href="https://github.com/richie5um">@richie5um</a> on GitHub
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'richie5um',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Rich Somerfield<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>
<link rel="stylesheet" href="/javascripts/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
<script type="text/javascript" src="/javascripts/fancybox/jquery.fancybox.pack.js"></script>

<script type="text/javascript">
	$(document).ready(function() {
		// Set custom style, close if clicked, change title type
		$(".fancybox").fancybox({
			wrapCSS    : 'fancybox-custom',
			closeClick : true,
			openEffect : 'none',
			helpers : {
				title : {
					type : 'inside'
				}
			}
		});
	});
</script>
<style type="text/css">
	.fancybox-custom .fancybox-skin {
		box-shadow: 0 0 50px #222;
	}
</style> <!-- Delete or comment this line to disable Fancybox -->
<script type="text/javascript" src="/javascripts/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="/javascripts/imagesloaded.pkgd.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		var container = document.querySelector('#masonrycontainer');
		
		var msnry;
		// initialize Masonry after all images have loaded
		imagesLoaded( container, function() {
			msnry = new Masonry( container, {
				// options
				columnWidth: 1,
				itemSelector: '.item',
				            isFitWidth: true,
				            position:'relative',
				            animationOptions: 
				            {
				                    duration: 750,
				                    easing: 'linear',
				                    queue: false
				            }				
			});
		});

		/*
		var msnry = new Masonry( container, {
		  // options
		  columnWidth: 200,
		  itemSelector: '.item'
		});
		*/
	});
</script>
<style type="text/css">
	.item { 
		width: 25%; 
		margin: 10px;
	}
	.item.w2 { width: 50%; }
</style>








  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
